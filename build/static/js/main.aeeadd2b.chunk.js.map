{"version":3,"sources":["components/PersonForm.js","components/Filter.js","components/Person.js","services/Contacts.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","props","onSubmit","addName","value","name","onChange","nameHandler","number","numberHandler","type","Filter","handler","Person","person","onClick","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","message","className","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","setMessage","errorMessage","setErrorMessage","useEffect","contactService","contacts","handleDeleteButtons","window","confirm","pers","setTimeout","deleteName","filteredPersons","toUpperCase","includes","Notification","event","target","preventDefault","some","find","update","updatedPerson","map","catch","error","addedPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.aeeadd2b.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonForm = (props) => {\n    return (\n      <form onSubmit={props.addName}>\n        <div>\n          name: <input value={props.name} onChange={props.nameHandler} />\n        </div>\n        <div>\n          number: <input value={props.number} onChange={props.numberHandler}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = ({value, handler}) => {\n    return (\n        <>filter shown with <input value={value} onChange={handler}/></>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst Person = ({person, handler}) => {\n    return (\n        <>\n          <p>\n            {person.name} {person.number}\n            <button onClick={handler}>delete</button>\n          </p>\n        </>\n    )\n}\n\nexport default Person","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => {\n        return response.data\n    })\n}\n  \nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => {\n        return response.data\n    })\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => {\n        return response.data\n    })\n}\n\nconst remove = id => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default { getAll, create, update, remove }","import React from 'react'\n\nconst ErrorMessage = ({message}) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className='errorMessage'>\n        {message}\n        </div>\n    )\n}\n\nconst SuccessMessage = ({message}) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className='successMessage'>\n        {message}\n        </div>\n    )\n}\n\nexport default {ErrorMessage, SuccessMessage}","import React, { useEffect, useState } from 'react'\nimport './index.css'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Person from './components/Person'\nimport contactService from './services/Contacts'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    contactService\n      .getAll()\n      .then(contacts => {\n        setPersons(contacts)\n      })\n  }, [])\n  \n  const addName = (event) => {\n    event.preventDefault()\n    if (persons.some(person => person.name === newName)) {\n        const person = persons.find(person => person.name === newName)     \n        if (window.confirm(`${person.name} is already added to the phonebook, do you want to replace the old number with a new one?`)) {\n          const update = {...person, number: newNumber}\n          contactService\n            .update(update.id, update)\n            .then(updatedPerson => {\n              setPersons(persons.map(pers => pers.id !== updatedPerson.id ? pers : updatedPerson))\n              setMessage(`${person.name} was updated`)\n              setTimeout(() => {\n                setMessage(null)\n              }, 3000)\n            }).catch(error => {\n              setErrorMessage(`Information of ${person.name} was already removed from server`)\n              setTimeout(() => {\n                setErrorMessage(null)\n              }, 3000)\n            })\n        }\n    } else {\n        const person = {name: newName, number: newNumber}\n        contactService\n          .create(person)\n          .then(addedPerson => {\n            setPersons(persons.concat(addedPerson))\n            setNewName('')\n            setNewNumber('')\n            setMessage(`${person.name} was added`)\n            setTimeout(() => {\n              setMessage(null)\n            }, 3000)\n          })   \n    }\n  }\n\n  const deleteName = person => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n      contactService\n        .remove(person.id)\n        .then(() => {\n          setPersons(persons.filter(pers => pers.id !== person.id))\n          setMessage(`${person.name} was deleted`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000)\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n      setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n      setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n      setFilter(event.target.value)\n  }\n\n  const handleDeleteButtons = (person) => {\n    return () => {\n      deleteName(person)\n    }\n  }\n\n  const filteredPersons = persons.filter(person => \n    person.name.toUpperCase().includes(filter.toUpperCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification.ErrorMessage message={errorMessage} />\n      <Notification.SuccessMessage message={message} />\n      <Filter value={filter} handler={handleFilterChange} />\n      <h3>Add a new</h3>\n      <PersonForm \n        addName={addName} \n        name={newName} \n        number={newNumber}\n        nameHandler={handleNameChange}\n        numberHandler={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      {filteredPersons.map(person =>\n        <Person key={person.id} person={person} handler={handleDeleteButtons(person)} />\n      )}\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}